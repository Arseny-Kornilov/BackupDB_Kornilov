# Домашнее задание к занятию "Резервное копирование баз данных" - `Корнилов Арсений`
---
### Задание 1. Резервное копирование
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования.
Необходимо описать, какие варианты резервного копирования подходят в случаях:

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.

#### ОТВЕТ:  Если учесть, что полное копирование уже используется в компании, то в данном случае подойдет дополнение в виде дифференциального резервного копирования, поскольку оно больше подходит для такого временного промежутка, обеспечит простоту, ведь не нужно будет применять цепочку инкрементальных копий, а понадобится только полная копия и последняя дифференциальная. Подход создания бэкапа будет горячим.


1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.

#### ОТВЕТ:  Если также, как и в предыдущем случае, учесть, что полное копирование уже используется в компании, то в данном случае подойдет дополнение в виде инкрементного резервного копирования, поскольку оно является более удобным для создания копий за временной промежуток в виде часа, обеспечит минимальное RPO и сэкономит место, в отличие от других двух видов. Подход создания бэкапа также будет горячим.


### Задание 2. PostgreSQL
2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).
#### ОТВЕТ: 
##### pg_dump -U username -d database_name -f full_backup.dump - полное резервное копирование
##### pg_restore -U username -d database_name full_backup.dump - полное восстановление


### Задание 3. MySQL
3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL.
#### ОТВЕТ: 
##### 1) mysqldump -u username -p --single-transaction --flush-logs --master-data=2 --all-databases > full_backup_$(date +%Y%m%d).sql - полное копирование
##### 2) mysql -u username -p -e "FLUSH BINARY LOGS;" -> cp /var/lib/mysql/mysql-bin.0* /backup/incremental/ - копирование бинарных логов, созданных после полного копирования (инкрементное копирование)
